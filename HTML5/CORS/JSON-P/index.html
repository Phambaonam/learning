<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON-P & CORS</title>
    <!-- https://developer.github.com/v3/#json-p-callbacks -->
    <style>
        .hidden{
            display: none;
        }
    </style>
</head>
<body>
    <div>
        <h1>JSON-P & CORS</h1>
    </div>
    <section class="hidden">
        <pre>
            Object
                Cache-Control: "public, max-age=60, s-maxage=60"
                Content-Type: "application/javascript; charset=utf-8"
                ETag: ""7dc470913f1fe9bb6c7355b50a0737bc""
                Vary: "Accept"
                X-GitHub-Media-Type: "github.v3; format=json"
                X-RateLimit-Limit: "60"
                X-RateLimit-Remaining: "59"
                X-RateLimit-Reset: "1488428333"
                status: 200
                __proto__: Object
        </pre>
        <pre>
            Object
            authorizations_url: "https://api.github.com/authorizations"
            code_search_url: "https://api.github.com/search/code?q={query}{&page,per_page,sort,order}"
            commit_search_url: "https://api.github.com/search/commits?q={query}{&page,per_page,sort,order}"
            current_user_authorizations_html_url: "https://github.com/settings/connections/applications{/client_id}"
            current_user_repositories_url: "https://api.github.com/user/repos{?type,page,per_page,sort}"
            current_user_url: "https://api.github.com/user"
            emails_url: "https://api.github.com/user/emails"
            emojis_url: "https://api.github.com/emojis"
            events_url: "https://api.github.com/events"
            feeds_url: "https://api.github.com/feeds"
            followers_url: "https://api.github.com/user/followers"
            following_url: "https://api.github.com/user/following{/target}"
            gists_url: "https://api.github.com/gists{/gist_id}"
            hub_url: "https://api.github.com/hub"
            issue_search_url: "https://api.github.com/search/issues?q={query}{&page,per_page,sort,order}"
            issues_url: "https://api.github.com/issues"
            keys_url: "https://api.github.com/user/keys"
            notifications_url: "https://api.github.com/notifications"
            organization_repositories_url: "https://api.github.com/orgs/{org}/repos{?type,page,per_page,sort}"
            organization_url: "https://api.github.com/orgs/{org}"
            public_gists_url: "https://api.github.com/gists/public"
            rate_limit_url: "https://api.github.com/rate_limit"
            repository_search_url: "https://api.github.com/search/repositories?q={query}{&page,per_page,sort,order}"
            repository_url: "https://api.github.com/repos/{owner}/{repo}"
            starred_gists_url: "https://api.github.com/gists/starred"
            starred_url: "https://api.github.com/user/starred{/owner}{/repo}"
            team_url: "https://api.github.com/teams"
            user_organizations_url: "https://api.github.com/user/orgs"
            user_repositories_url: "https://api.github.com/users/{user}/repos{?type,page,per_page,sort}"
            user_search_url: "https://api.github.com/search/users?q={query}{&page,per_page,sort,order}"
            user_url: "https://api.github.com/users/{user}"
            __proto__: Object
        </pre>
    </section>
    <!-- js -->
    <script type="text/javascript">
        function foo(response) {
            var meta = response.meta;
            var data = response.data;
            console.log(meta);
            console.log(data);
            console.log(`meta = ${meta}`);
            console.log(`data = ${data}`);
            let dom = "";
            console.log(`Object.keys(meta) = ${Object.keys(meta)}`);
            console.log(`Object.keys(meta).forEach(fn(){}) = ${Object.keys(meta).forEach((item)=>{
                console.log(item);
            })}`);
            console.log(`Object.entries(meta) = ${Object.entries(meta)}`);
            console.log(`Object.entries(meta).forEach(fn(){}) = ${Object.entries(meta).forEach((item)=>{
                console.log(item);
            })}`);
            // https://api.github.com/user
            let div = document.createElement("div");
            // div.text = dom;
            document.querySelector('body').appendChild(div);
        }
        var script = document.createElement('script');
        script.src = 'https://api.github.com?callback=foo';
        document.getElementsByTagName('head')[0].appendChild(script);
    </script>
</body>
</html>
